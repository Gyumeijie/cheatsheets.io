{"data":{"markdownRemark":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Getting started"}]},{"type":"comment","value":" {.-three-column} "},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Example"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"#!/usr/bin/env bash\n\nNAME=\"John\"\necho \"Hello $NAME!\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Variables"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"NAME=\"John\"\necho $NAME\necho \"$NAME\"\necho \"${NAME}!\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"String quotes"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"NAME=\"John\"\necho \"Hi $NAME\"  #=> Hi John\necho 'Hi $NAME'  #=> Hi $NAME\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Shell execution"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo \"I'm in $(pwd)\"\necho \"I'm in `pwd`\"\n# Same\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See "},{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/syntax/expansion/cmdsubst"},"children":[{"type":"text","value":"Command substitution"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Conditional execution"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"git commit && git push\ngit commit || echo \"Commit failed\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Functions"}]},{"type":"comment","value":" {id='functions-example'} "},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"get_name() {\n  echo \"John\"\n}\n\necho \"You are $(get_name)\"\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See: "},{"type":"element","tagName":"a","properties":{"href":"#functions"},"children":[{"type":"text","value":"Functions"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Conditionals"}]},{"type":"comment","value":" {id='conditionals-example'} "},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if [[ -z \"$string\" ]]; then\n  echo \"String is empty\"\nelif [[ -n \"$string\" ]]; then\n  echo \"String is not empty\"\nfi\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See: "},{"type":"element","tagName":"a","properties":{"href":"#conditionals"},"children":[{"type":"text","value":"Conditionals"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Strict mode"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"set -euo pipefail\nIFS=$'\\n\\t'\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See: "},{"type":"element","tagName":"a","properties":{"href":"http://redsymbol.net/articles/unofficial-bash-strict-mode/"},"children":[{"type":"text","value":"Unofficial bash strict mode"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Brace expansion"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo {A,B}.js\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{A,B}"}]},{"type":"text","value":" | Same as "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"A B"}]},{"type":"text","value":" |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{A,B}.js"}]},{"type":"text","value":" | Same as "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"A.js B.js"}]},{"type":"text","value":" |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"{1..5}"}]},{"type":"text","value":" | Same as "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1 2 3 4 5"}]},{"type":"text","value":" |"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See: "},{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/syntax/expansion/brace"},"children":[{"type":"text","value":"Brace expansion"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Parameter expansions"}]},{"type":"comment","value":" {.-three-column} "},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Basics"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"name=\"John\"\necho ${name}\necho ${name/J/j}    #=> \"john\" (substitution)\necho ${name:0:2}    #=> \"Jo\" (slicing)\necho ${name::2}     #=> \"Jo\" (slicing)\necho ${name::-1}    #=> \"Joh\" (slicing)\necho ${name:(-1)}   #=> \"n\" (slicing from right)\necho ${name:(-2):1} #=> \"h\" (slicing from right)\necho ${food:-Cake}  #=> $food or \"Cake\"\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"length=2\necho ${name:0:length}  #=> \"Jo\"\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See: "},{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/syntax/pe"},"children":[{"type":"text","value":"Parameter expansion"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"STR=\"/path/to/foo.cpp\"\necho ${STR%.cpp}    # /path/to/foo\necho ${STR%.cpp}.o  # /path/to/foo.o\n\necho ${STR##*.}     # cpp (extension)\necho ${STR##*/}     # foo.cpp (basepath)\n\necho ${STR#*/}      # path/to/foo.cpp\necho ${STR##*/}     # foo.cpp\n\necho ${STR/foo/bar} # /path/to/bar.cpp\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"STR=\"Hello world\"\necho ${STR:6:5}   # \"world\"\necho ${STR:-5:5}  # \"world\"\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"SRC=\"/path/to/foo.cpp\"\nBASE=${SRC##*/}   #=> \"foo.cpp\" (basepath)\nDIR=${SRC%$BASE}  #=> \"/path/to/\" (dirpath)\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Substitution"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Code"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO%suffix}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Remove suffix"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO#prefix}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Remove prefix"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO%%suffix}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Remove long suffix"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO##prefix}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Remove long prefix"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO/from/to}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Replace first match"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO//from/to}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Replace all"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO/%from/to}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Replace suffix"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO/#from/to}"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Replace prefix"}]}]}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Comments"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Single line comment\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":": '\nThis is a\nmulti line\ncomment\n'\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Substrings"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO:0:3}"}]},{"type":"text","value":" | Substring "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(position, length)"}]},{"type":"text","value":" |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO:-3:3}"}]},{"type":"text","value":" | Substring from the right |"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Length"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${#FOO}"}]},{"type":"text","value":" | Length of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$FOO"}]},{"type":"text","value":" |"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Default values"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO:-val}"}]},{"type":"text","value":" | "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$FOO"}]},{"type":"text","value":", or "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"val"}]},{"type":"text","value":" if not set |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO:=val}"}]},{"type":"text","value":" | Set "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$FOO"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"val"}]},{"type":"text","value":" if not set |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO:+val}"}]},{"type":"text","value":" | "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"val"}]},{"type":"text","value":" if "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$FOO"}]},{"type":"text","value":" is set |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO:?message}"}]},{"type":"text","value":" | Show error message and exit if "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$FOO"}]},{"type":"text","value":" is not set |"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":":"}]},{"type":"text","value":" is optional (eg, "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"${FOO=word}"}]},{"type":"text","value":" works)"}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Loops"}]},{"type":"comment","value":" {.-three-column} "},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Basic for loop"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for i in /etc/rc.*; do\n  echo $i\ndone\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"C-like for loop"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for ((i = 0 ; i < 100 ; i++)); do\n  echo $i\ndone\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Ranges"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for i in {1..5}; do\n    echo \"Welcome $i\"\ndone\n"}]}]},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"With step size"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for i in {5..50..5}; do\n    echo \"Welcome $i\"\ndone\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Reading lines"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"< file.txt | while read line; do\n  echo $line\ndone\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Forever"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"while true; do\n  ···\ndone\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Functions"}]},{"type":"comment","value":" {.-three-column} "},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Defining functions"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"myfunc() {\n    echo \"hello $1\"\n}\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Same as above (alternate syntax)\nfunction myfunc() {\n    echo \"hello $1\"\n}\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"myfunc \"John\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Returning values"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"myfunc() {\n    local myresult='some value'\n    echo $myresult\n}\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"result=\"$(myfunc)\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Raising errors"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"myfunc() {\n  return 1\n}\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if myfunc; then\n  echo \"success\"\nelse\n  echo \"failure\"\nfi\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Arguments"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Expression"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$#"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Number of arguments"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$*"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"All arguments"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$@"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"All arguments, starting from first"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$1"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"First argument"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See "},{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables"},"children":[{"type":"text","value":"Special parameters"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Conditionals"}]},{"type":"comment","value":" {.-three-column} "},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Conditions"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[["}]},{"type":"text","value":" is actually a command/program that returns either "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":" (true) or "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" (false). Any program that obeys the same logic (like all base utils, such as "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"grep(1)"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ping(1)"}]},{"type":"text","value":") can be used as condition, see examples."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Condition"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -z STRING ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Empty string"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -n STRING ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Not empty string"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ STRING == STRING ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Equal"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ STRING != STRING ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Not Equal"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ NUM -eq NUM ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Equal"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ NUM -ne NUM ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Not equal"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ NUM -lt NUM ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Less than"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ NUM -le NUM ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Less than or equal"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ NUM -gt NUM ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Greater than"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ NUM -ge NUM ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Greater than or equal"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ STRING =~ STRING ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Regexp"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"(( NUM < NUM ))"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Numeric conditions"}]}]}]}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Condition"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -o noclobber ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"If OPTIONNAME is enabled"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ ! EXPR ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Not"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ X ]] && [[ Y ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"And"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ X ]] || [[ Y ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Or"}]}]}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"File conditions"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Condition"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -e FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Exists"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -r FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Readable"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -h FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Symlink"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -d FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Directory"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -w FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Writable"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -s FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Size is > 0 bytes"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -f FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"File"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ -x FILE ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Executable"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"---"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ FILE1 -nt FILE2 ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1 is more recent than 2"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ FILE1 -ot FILE2 ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"2 is more recent than 1"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[[ FILE1 -ef FILE2 ]]"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Same files"}]}]}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Example"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if ping -c 1 google.com; then\n  echo \"It appears you have a working internet connection\"\nfi\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if grep -q 'foo' ~/.bash_history; then\n  echo \"You appear to have typed 'foo' in the past\"\nfi\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# String\nif [[ -z \"$string\" ]]; then\n  echo \"String is empty\"\nelif [[ -n \"$string\" ]]; then\n  echo \"String is not empty\"\nfi\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Combinations\nif [[ X ]] && [[ Y ]]; then\n  ...\nfi\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Equal\nif [[ \"$A\" == \"$B\" ]]\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Regex\nif [[ \"A\" =~ \".\" ]]\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if (( $a < $b )); then\n   echo \"$a is smaller than $b\"\nfi\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if [[ -e \"file.txt\" ]]; then\n  echo \"file exists\"\nfi\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Arrays"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Defining arrays"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"Fruits=('Apple' 'Banana' 'Orange')\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"Fruits[0]=\"Apple\"\nFruits[1]=\"Banana\"\nFruits[2]=\"Orange\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Working with arrays"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo ${Fruits[0]}           # Element #0\necho ${Fruits[@]}           # All elements, space-separated\necho ${#Fruits[@]}          # Number of elements\necho ${#Fruits}             # String length of the 1st element\necho ${#Fruits[3]}          # String length of the Nth element\necho ${Fruits[@]:3:2}       # Range (from position 3, length 2)\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Operations"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"Fruits=(\"${Fruits[@]}\" \"Watermelon\")    # Push\nFruits+=('Watermelon')                  # Also Push\nFruits=( ${Fruits[@]/Ap*/} )            # Remove by regex match\nunset Fruits[2]                         # Remove one item\nFruits=(\"${Fruits[@]}\")                 # Duplicate\nFruits=(\"${Fruits[@]}\" \"${Veggies[@]}\") # Concatenate\nlines=(`cat \"logfile\"`)                 # Read from file\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Iteration"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for i in \"${arrayName[@]}\"; do\n  echo $i\ndone\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Dictionaries"}]},{"type":"comment","value":" {.-three-column} "},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Defining"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"declare -A sounds\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"sounds[dog]=\"bark\"\nsounds[cow]=\"moo\"\nsounds[bird]=\"tweet\"\nsounds[wolf]=\"howl\"\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Declares "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sound"}]},{"type":"text","value":" as a Dictionary object (aka associative array)."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Working with dictionaries"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo ${sounds[dog]} # Dog's sound\necho ${sounds[@]}   # All values\necho ${!sounds[@]}  # All keys\necho ${#sounds[@]}  # Number of elements\nunset sounds[dog]   # Delete dog\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Iteration"}]},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Iterate over values"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for val in \"${sounds[@]}\"; do\n  echo $val\ndone\n"}]}]},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Iterate over keys"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"for key in \"${!sounds[@]}\"; do\n  echo $key\ndone\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Options"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Options"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"set -o noclobber  # Avoid overlay files (echo \"hi\" > foo)\nset -o errexit    # Used to exit upon error, avoiding cascading errors\nset -o pipefail   # Unveils hidden failures\nset -o nounset    # Exposes unset variables\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Glob options"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"set -o nullglob    # Non-matching globs are removed  ('*.foo' => '')\nset -o failglob    # Non-matching globs throw errors\nset -o nocaseglob  # Case insensitive globs\nset -o globdots    # Wildcards match dotfiles (\"*.sh\" => \".foo.sh\")\nset -o globstar    # Allow ** for recursive matches ('lib/**/*.rb' => 'lib/a/b/c.rb')\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Set "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GLOBIGNORE"}]},{"type":"text","value":" as a colon-separated list of patterns to be removed from glob\nmatches."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"History"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Commands"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"history"}]},{"type":"text","value":" | Show history |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"shopt -s histverify"}]},{"type":"text","value":" | Don't execute expanded result immediately |"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Expansions"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!$"}]},{"type":"text","value":" | Expand last parameter of most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!*"}]},{"type":"text","value":" | Expand all parameters of most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!-n"}]},{"type":"text","value":" | Expand "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":"th most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!n"}]},{"type":"text","value":" | Expand "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":"th command in history |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!<command>"}]},{"type":"text","value":" | Expand most recent invocation of command "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<command>"}]},{"type":"text","value":" |"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Operations"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!"}]},{"type":"text","value":" | Execute last command again |"},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!:s/<FROM>/<TO>/"}]},{"type":"text","value":" | Replace first occurrence of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<FROM>"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<TO>"}]},{"type":"text","value":" in most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!:gs/<FROM>/<TO>/"}]},{"type":"text","value":" | Replace all occurrences of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<FROM>"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<TO>"}]},{"type":"text","value":" in most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!$:t"}]},{"type":"text","value":" | Expand only basename from last parameter of most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!$:h"}]},{"type":"text","value":" | Expand only directory from last parameter of most recent command |"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!$"}]},{"type":"text","value":" can be replaced with any valid expansion."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Slices"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!:n"}]},{"type":"text","value":" | Expand only "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":"th token from most recent command (command is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":"; first argument is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":") |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!^"}]},{"type":"text","value":" | Expand first argument from most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!$"}]},{"type":"text","value":" | Expand last token from most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!:n-m"}]},{"type":"text","value":" | Expand range of tokens from most recent command |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!:n-$"}]},{"type":"text","value":" | Expand "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":"th token to last from most recent command |"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!!"}]},{"type":"text","value":" can be replaced with any valid expansion i.e. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!cat"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!-2"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"!42"}]},{"type":"text","value":", etc."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Miscellaneous"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Numeric calculations"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$((a + 200))      # Add 200 to $a\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"$((RANDOM%=200))  # Random number 0..200\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Subshells"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"(cd somedir; echo \"I'm now in $PWD\")\npwd # still in first directory\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Redirection"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"python hello.py > output.txt   # stdout to (file)\npython hello.py >> output.txt  # stdout to (file), append\npython hello.py 2> error.log   # stderr to (file)\npython hello.py 2>&1           # stderr to stdout\npython hello.py 2>/dev/null    # stderr to (null)\npython hello.py &>/dev/null    # stdout and stderr to (null)\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"python hello.py < foo.txt      # feed foo.txt to stdin for python\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Inspecting commands"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"command -V cd\n#=> \"cd is a function/alias/whatever\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Trap errors"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"trap 'echo Error at about $LINENO' ERR\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"or"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"traperr() {\n  echo \"ERROR: ${BASH_SOURCE[1]} at about ${BASH_LINENO[0]}\"\n}\n\nset -o errtrace\ntrap traperr ERR\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Case/switch"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"case \"$1\" in\n  start | up)\n    vagrant up\n    ;;\n\n  *)\n    echo \"Usage: $0 {start|stop|ssh}\"\n    ;;\nesac\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Source relative"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"source \"${0%/*}/../share/foo.sh\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"printf"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"printf \"Hello %s, I'm %s\" Sven Olga\n#=> \"Hello Sven, I'm Olga\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Directory of script"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"DIR=\"${0%/*}\"\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Getting options"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"while [[ \"$1\" =~ ^- && ! \"$1\" == \"--\" ]]; do case $1 in\n  -V | --version )\n    echo $version\n    exit\n    ;;\n  -s | --string )\n    shift; string=$1\n    ;;\n  -f | --flag )\n    flag=1\n    ;;\nesac; shift; done\nif [[ \"$1\" == '--' ]]; then shift; fi\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Heredoc"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"cat <<END\nhello world\nEND\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Reading input"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo -n \"Proceed? [y/n]: \"\nread ans\necho $ans\n"}]}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"read -n 1 ans    # Just one character\n"}]}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Special variables"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$?"}]},{"type":"text","value":" | Exit status of last task |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$!"}]},{"type":"text","value":" | PID of last background task |\n| "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$$"}]},{"type":"text","value":" | PID of shell |"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"See "},{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables"},"children":[{"type":"text","value":"Special parameters"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Go to previous directory"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"pwd # /home/user/foo\ncd bar/\npwd # /home/user/foo/bar\ncd -\npwd # /home/user/foo\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Also see"}]},{"type":"comment","value":" {.-one-column} "},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/"},"children":[{"type":"text","value":"Bash-hackers wiki"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(bash-hackers.org)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://wiki.bash-hackers.org/syntax/shellvars"},"children":[{"type":"text","value":"Shell vars"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(bash-hackers.org)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://learnxinyminutes.com/docs/bash/"},"children":[{"type":"text","value":"Learn bash in y minutes"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(learnxinyminutes.com)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://mywiki.wooledge.org/BashGuide"},"children":[{"type":"text","value":"Bash Guide"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(mywiki.wooledge.org)"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.shellcheck.net/"},"children":[{"type":"text","value":"ShellCheck"}]},{"type":"text","value":" "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(shellcheck.net)"}]}]},{"type":"text","value":"\n"}]}]},"frontmatter":{"title":"Bash scripting","category":"CLI","intro":null}},"relatedPages":{"edges":[{"node":{"id":"SitePage /ranger","context":{"nodePath":"/ranger","category":"CLI","title":"Ranger"}}}]},"topPages":{"edges":[{"node":{"id":"SitePage /sketch","context":{"nodePath":"/sketch","category":"","title":"Sketch"}}},{"node":{"id":"SitePage /react","context":{"nodePath":"/react","category":"React","title":"React.js"}}},{"node":{"id":"SitePage /vim","context":{"nodePath":"/vim","category":"Vim","title":"Vim"}}},{"node":{"id":"SitePage /xpath","context":{"nodePath":"/xpath","category":"HTML","title":"Xpath"}}},{"node":{"id":"SitePage /cheatsheet_styles","context":{"nodePath":"/cheatsheet_styles","category":"","title":"Cheatsheet styles"}}},{"node":{"id":"SitePage /devhints","context":{"nodePath":"/devhints","category":"","title":"Devhints styles"}}}]},"allPages":{"totalCount":16}},"pageContext":{"isCreatedByStatefulCreatePages":false,"node_id":"7662af47-ded8-5f82-8569-4419cc46f2e6","nodePath":"/bash","nodeType":"sheet","title":"Bash scripting","category":"CLI","weight":0,"updated":"2019-03-23T00:00:00.000Z","isFeatured":true}}