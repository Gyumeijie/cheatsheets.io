{"version":3,"sources":["webpack:///./src/web/providers/DisqusScript.tsx","webpack:///./src/web/components/CommentsAreaSummary.tsx","webpack:///./src/web/components/CommentsSection.tsx","webpack:///./src/web/components/CommentsArea.tsx","webpack:///./src/web/components/IntroContent.tsx","webpack:///./src/web/components/MainHeading.tsx","webpack:///./src/web/components/MiniMarkdown.tsx","webpack:///./src/web/components/PreFooter.tsx","webpack:///./src/search/components/SearchBox.tsx","webpack:///./src/web/components/HomeButton.tsx","webpack:///./src/web/components/SearchFooterSection.tsx","webpack:///./src/web/components/SearchFooter.tsx","webpack:///./src/web/components/SheetTemplateView.tsx","webpack:///./src/web/templates/SheetTemplate.tsx","webpack:///./src/web/contexts/SiteContext.tsx","webpack:///./config.js","webpack:///./src/web/containers/Layout.tsx","webpack:///./src/web/components/CommonHead.tsx","webpack:///./src/web/lib/site_page.tsx","webpack:///./src/web/components/PostContent/index.tsx","webpack:///./src/web/components/PostContent/isotopify.tsx","webpack:///./src/web/components/PostContent/prism.tsx","webpack:///./packages/rehype-wrapify/lib/helpers/hast.js","webpack:///./packages/rehype-wrapify/index.js","webpack:///./src/web/components/PostContent/transform.tsx"],"names":["debug","debugjs","DisqusScript","_React$Component","apply","this","arguments","inheritsLoose_default","_proto","prototype","componentDidMount","_this$props","props","host","url","identifier","setTimeout","window","disqus_config","page","s","document","createElement","src","setAttribute","parent","head","body","appendChild","injectEmbed","id","async","injectCount","injectScript","render","_this$props2","children","data","rprops","thread","react_default","a","count","className","data-disqus-identifier","data-disqus-url","Fragment","React","JSON","stringify","Component","CommentsAreaSummary","_ref","CSS","root","cn","icon","isLine","dangerouslySetInnerHTML","__html","talkBubblesLine","isSolid","talkBubblesSolid","suffix","fauxlink","CommentsSection","CommentsAreaView","data-js-no-preview","container","details","components_CommentsAreaSummary","components_CommentsSection","CommentsArea","providers_DisqusScript","CommentsArea_CommentsAreaView","IntroContent","MainHeading","title","react","markdownish","source","replace","_","label","str","paragraphify","split","map","para","join","MiniMarkdown","PreFooter","SearchBox","isSmall","prefix","sep","LiveSearchInput","placeholder","searchLine","HomeButton","gatsby_link_default","to","homeLine","SearchFooterSection","search","action","method","components_SearchBox","links","components_HomeButton","SearchFooter","components_SearchFooterSection","View","_ref2","frontmatter","htmlAst","relatedPages","topPages","pageCount","labels","path","sheet","Helmet_default","sheetSuffix","CommonHead","TopNav","back","components_MainHeading","intro","components_IntroContent","components_MiniMarkdown","PostContent","Object","assign","components_PreFooter","components_CommentsArea","components_SearchFooter","RelatedPostsArea","category","SheetTemplateView","SiteContext","CONTENT","SheetTemplateView_View","__webpack_require__","d","__webpack_exports__","SheetTemplate_SheetTemplate","query","SheetTemplate","nodePath","pageContext","toSiteLinks","markdownRemark","Layout","value","components_SheetTemplateView","allPages","totalCount","Provider","Consumer","react__WEBPACK_IMPORTED_MODULE_0__","ctx","n","createContext","home","description","recentlyUpdated","updatedLabel","siteHeader","tagline","topNav","edit","editOnGithub","relatedPostsCallout","link","searchForm","defaultPlaceholder","homePlaceholder","commentsArea","notFound","react__WEBPACK_IMPORTED_MODULE_0___default","react_helmet__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_1___default","meta","name","content","rel","href","pages","edges","toSiteLink","edge","node","context","groupByCategory","groups","groupBy","keys","reduce","result","group","_Object$assign","memo","transform","react__WEBPACK_IMPORTED_MODULE_3___default","role","ref","doPostTransform","element","log","bind","Promise","resolve","then","isotopify","loadPrism","global","Prism","highlightAllUnder","catch","error","el","div","lists","querySelectorAll","Array","from","forEach","isotopifyItem","iso","require","itemSelector","transitionDuration","images","image","addEventListener","layout","PRISM_VERSION","LANGUAGE_ALIASES","coffee","dockerfile","dosini","jade","js","make","md","rb","sh","tsx","vimscript","yml","zsh","LANGUAGE_IGNORE","nohighlight","html","urls","languageURLs","pres","pre","find","match","filter","Boolean","sort","index","self","indexOf","getLanguagesInElement","lang","getPrismURL","getLanguageURL","concat","getPrismURLs","all","loadjs","before","removeAttribute","success","err","loadScript","noop","loadScripts","file","updateLast","list","fn","length","slice","item","rehype_wrapify","wrapify","tagName","sectionClass","bodyClass","wrapH2","section","_temp","_ref$tagName","_ref$sectionClass","_ref$bodyClass","extraClass","properties","getClassName","wrapper","last","type","separatify","decorate","renderAst","RehypeReact","Compiler"],"mappings":"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","file":"component---src-web-templates-sheet-template-tsx-6b96578dd47612a1b56b.js","sourcesContent":["import debugjs from 'debug'\nimport React from 'react'\n\nimport { DisqusData } from '../types'\n\nexport interface RenderProps {\n  thread: React.ReactNode\n  count: React.ReactNode\n}\n\nexport type Props = DisqusData & {\n  children?: (rprops: RenderProps) => React.ReactNode\n}\n\n/**\n * Disqus doesn't need to load right away.\n */\n\nconst DISQUS_DELAY = 100\n\nconst debug = debugjs('app:DisqusScript')\n\n/*\n * Injects a disqus script.\n */\n\nexport class DisqusScript extends React.Component<Props> {\n  componentDidMount() {\n    const { host, url, identifier } = this.props\n    debug('componentDidMount() started for \"%s\".', url)\n\n    setTimeout(() => {\n      // @ts-ignore\n      window.disqus_config = function() {\n        debug('Disqus has called window.disqus_config().')\n        // @ts-ignore\n        this.page.url = url\n        // @ts-ignore\n        this.page.identifier = identifier\n      }\n\n      injectScript(host)\n    }, DISQUS_DELAY)\n  }\n\n  render() {\n    const { host, url, identifier, children } = this.props\n    const data = { host, url, identifier }\n\n    // Render props to be passed on\n    const rprops: RenderProps = {\n      thread: <div id='disqus_thread' />,\n      count: (\n        <span\n          className='disqus-comment-count'\n          data-disqus-identifier={identifier}\n          data-disqus-url={url}\n        >\n          Comments\n        </span>\n      )\n    }\n\n    // @ts-ignore\n    return (\n      <React.Fragment>\n        {/* <noscript data> isn't standard HTML */}\n        {React.createElement('noscript', { data: JSON.stringify(data) })}\n        {typeof children === 'function' ? children(rprops) : null}\n      </React.Fragment>\n    )\n  }\n}\n\n/*\n * Primary export\n */\n\nexport default DisqusScript\n\n/**\n * Injects disqus's scripts into the page.\n *\n * @example\n *     inject('devhints.disqus.com')\n */\n\nexport function injectScript(host: string) {\n  debug('injectScript(\"%s\") called', host)\n  injectEmbed(host)\n  injectCount(host)\n}\n\nexport function injectEmbed(host: string) {\n  const s = document.createElement('script')\n  s.src = `https://${host}/embed.js`\n  s.setAttribute('data-timestamp', `#{+new Date()}`)\n  const parent = document.head || document.body\n  if (parent) parent.appendChild(s)\n}\n\nexport function injectCount(host: string) {\n  const s = document.createElement('script')\n  s.src = `https://${host}/count.js`\n  s.id = 'dsq-count-scr'\n  s.async = true\n  const parent = document.head || document.body\n  if (parent) parent.appendChild(s)\n}\n","import cn from 'classnames'\nimport { talkBubblesLine, talkBubblesSolid } from 'devhints-icons'\nimport React from 'react'\nimport CSS from './CommentsAreaSummary.module.scss'\n\ninterface Props {\n  count: React.ReactNode\n}\n\n/**\n * Summary in the comments area\n */\n\nexport const CommentsAreaSummary = ({ count }: Props) => (\n  <summary className={CSS.root}>\n    <i\n      className={cn(CSS.icon, CSS.isLine)}\n      dangerouslySetInnerHTML={{ __html: talkBubblesLine }}\n    />\n    <i\n      className={cn(CSS.icon, CSS.isSolid)}\n      dangerouslySetInnerHTML={{ __html: talkBubblesSolid }}\n    />\n    <strong className={CSS.count}>{count}</strong>{' '}\n    <span className={CSS.suffix}>for this cheatsheet.</span>{' '}\n    <span className={CSS.fauxlink}>Write yours!</span>\n  </summary>\n)\n\nexport default CommentsAreaSummary\n","import React from 'react'\n\nexport interface Props {\n  thread: React.ReactNode\n}\n\nconst CommentsSection = ({ thread }: Props) => {\n  return (\n    <div className='comments-section'>\n      {/* TODO comments-section CSS module */}\n      <div className='comments'>{thread}</div>\n    </div>\n  )\n}\n\nexport default CommentsSection\n","import React from 'react'\nimport DisqusScript from '../providers/DisqusScript'\nimport { RenderProps } from '../providers/DisqusScript'\nimport { DisqusData } from '../types'\nimport CSS from './CommentsArea.module.scss'\nimport CommentsAreaSummary from './CommentsAreaSummary'\nimport CommentsSection from './CommentsSection'\n\nexport interface ViewProps {\n  thread: React.ReactNode\n  count: React.ReactNode\n}\n\n/**\n * Comments area\n */\n\nexport const CommentsAreaView = (props: ViewProps) => {\n  const { thread, count } = props\n\n  return (\n    <section className={CSS.root} id='comments' data-js-no-preview>\n      <div className={CSS.container}>\n        <details className={CSS.details}>\n          <CommentsAreaSummary count={count} />\n          <CommentsSection {...props} />\n        </details>\n      </div>\n    </section>\n  )\n}\n\n/*\n * Connector\n */\n\nexport const CommentsArea = () => {\n  // Disqus configuration\n  const disqus: DisqusData = {\n    host: 'devhints.disqus.com',\n    url: 'https://devhints.io/react',\n    identifier: 'react'\n  }\n\n  return (\n    <DisqusScript {...disqus}>\n      {({ thread, count }: RenderProps) => {\n        return <CommentsAreaView {...{ thread, count }} />\n      }}\n    </DisqusScript>\n  )\n}\n\n/*\n * Export\n */\n\nexport default CommentsArea\n","import cn from 'classnames'\nimport React from 'react'\nimport CSS from './IntroContent.module.scss'\n\nexport interface Props {\n  children: React.ReactNode\n  className?: string\n}\n\n/**\n * Intro content just below the cheatsheet title\n */\n\nexport const IntroContent = ({ children, className }: Props) => (\n  <div className={cn(CSS.root, className)}>{children}</div>\n)\n\n/*\n * Export\n */\n\nexport default IntroContent\n","/* @flow */\nimport * as React from 'react'\n\nexport interface Props {\n  title: string\n  suffix: string\n}\n\n/**\n * Main heading\n */\n\nconst MainHeading = ({ title, suffix }: Props) => (\n  <header className='main-heading -center'>\n    <h1 className='h1'>\n      {title} <em>{suffix}</em>\n    </h1>\n\n    <div className='adbox' />\n  </header>\n)\n\nexport default MainHeading\n","// @flow\nimport * as React from 'react'\n\nexport interface Props {\n  // The markdown source\n  source: string\n}\n\n/**\n * Renders mini-Markdown as HTML. Supports a subset of Markdown.\n *\n * @example\n *     <MiniMarkdown source='hello, *world*!' />\n */\n\nexport const MiniMarkdown = ({ source }: Props) => (\n  <span\n    className='mini-markdown'\n    dangerouslySetInnerHTML={{ __html: paragraphify(markdownish(source)) }}\n  />\n)\n\n/**\n * A very simply markdown-to-HTML converter, but only works with a very small\n * subset of inline elements. Returns HTML.\n *\n * @example\n *     markdownish('hello *world*')\n *     // => 'hello <em>world</em>'\n */\n\nexport function markdownish(source: string): string {\n  return (\n    source\n      // Code\n      .replace(\n        /`(.*?)`/g,\n        (_, label: string) => `<code>${markdownish(label)}</code>`\n      )\n      // Bold\n      .replace(\n        /\\*\\*(.*?)\\*\\*/g,\n        (_, label: string) => `<strong>${markdownish(label)}</strong>`\n      )\n      // Link\n      .replace(\n        /\\[([^\\]]*)\\]\\((.*?)\\)/g,\n        (_, label: string, url: string) =>\n          `<a href=${s(url)}>${markdownish(label)}</a>`\n      )\n  )\n}\n\n/**\n * Splits paragraph sections into `<p>` elements.\n * Returns HTML.\n *\n * @example\n *     paragraphify('hello\\n\\nthere')\n *     // => '<p>hello</p><p>there</p>'\n */\n\nexport function paragraphify(source: string): string {\n  return source\n    .split('\\n\\n')\n    .map(para => `<p>${para}</p>`)\n    .join('')\n}\n\n/**\n * Quotes a string.\n * @private\n */\n\nfunction s(str: string) {\n  return JSON.stringify(str)\n}\n\nexport default MiniMarkdown\n","import React from 'react'\nimport CSS from './PreFooter.module.scss'\n\n/**\n * Pre-footer separator in the cheatsheets page\n */\n\nexport const PreFooter = () => (\n  <div className={CSS.root}>\n    <i className={CSS.icon} />\n  </div>\n)\n\nexport default PreFooter\n","import cn from 'classnames'\nimport { searchLine } from 'devhints-icons'\nimport React from 'react'\nimport LiveSearchInput from '../containers/LiveSearchInput'\nimport CSS from './SearchBox.module.css'\n\nconst SearchBox = () => {\n  return (\n    <label className={cn(CSS.root, CSS.isSmall)}>\n      <span className={CSS.prefix}>devhints.io</span>\n      <span className={CSS.sep}>/</span>\n\n      <LiveSearchInput placeholder='Search 360+ cheatsheets' />\n\n      <i\n        className={CSS.icon}\n        dangerouslySetInnerHTML={{ __html: searchLine }}\n      />\n    </label>\n  )\n}\n\nexport default SearchBox\n","import { homeLine } from 'devhints-icons'\nimport Link from 'gatsby-link'\nimport React from 'react'\nimport CSS from './HomeButton.module.scss'\n\n/**\n * Home button\n */\n\nexport const HomeButton = () => (\n  <Link className={CSS.root} to='/'>\n    <i className={CSS.icon} dangerouslySetInnerHTML={{ __html: homeLine }} />\n  </Link>\n)\n\n/*\n * Export\n */\n\nexport default HomeButton\n","import React from 'react'\nimport SearchBox from '../../search/components/SearchBox'\nimport HomeButton from './HomeButton'\nimport CSS from './SearchFooterSection.module.scss'\n\nconst SearchFooterSection = () => (\n  <section className={CSS.root}>\n    <div className={CSS.search}>\n      <form action='/' method='get'>\n        <SearchBox />\n      </form>\n    </div>\n\n    <div className={CSS.links}>\n      <HomeButton />\n    </div>\n  </section>\n)\n\nexport default SearchFooterSection\n","import React from 'react'\nimport CSS from './SearchFooter.module.scss'\nimport SearchFooterSection from './SearchFooterSection'\n\n/**\n * Search footer in the cheatsheets page.\n */\n\nconst SearchFooter = () => (\n  <aside className={CSS.root} data-js-no-preview>\n    <div className={CSS.container}>\n      <SearchFooterSection />\n    </div>\n  </aside>\n)\n\nexport default SearchFooter\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport { Consumer, ConsumerRenderProps } from '../contexts/SiteContext'\nimport { Context, Frontmatter, HtmlAst, Sheet, SiteLink } from '../types'\nimport CommentsArea from './CommentsArea'\nimport CommonHead from './CommonHead'\nimport IntroContent from './IntroContent'\nimport MainHeading from './MainHeading'\nimport MiniMarkdown from './MiniMarkdown'\nimport PostContent from './PostContent'\nimport PreFooter from './PreFooter'\nimport RelatedPostsArea from './RelatedPostsArea'\nimport SearchFooter from './SearchFooter'\nimport TopNav from './TopNav'\n\n/**\n * Properties for the `<View />`\n */\n\nexport interface Props {\n  frontmatter: Frontmatter\n  htmlAst: HtmlAst\n  relatedPages: SiteLink[]\n  topPages: SiteLink[]\n  path: string // eg, '/vim'\n  pageCount: number\n}\n\nexport type ViewProps = Props & {\n  sheet: Sheet\n  labels: {\n    sheetSuffix: string\n  }\n}\n\n/**\n * Sheet template view (connected).\n *\n * @example\n *     <SheetTemplateView\n *       frontmatter={{ title: 'Vim', category: 'Editors' }}\n *       htmlAst={...}\n *       relatedPages={[ ... ]}\n *       topPages={[ ... ]}\n *       pageCount={382}\n *     />\n */\n\nexport const SheetTemplateView = (props: Props) => (\n  <Consumer>\n    {({ CONTENT, sheet }: ConsumerRenderProps) => {\n      if (!sheet) return null\n      if (!CONTENT) return null\n\n      return (\n        <View\n          {...props}\n          sheet={sheet}\n          labels={{\n            sheetSuffix: CONTENT.sheet.suffix || ''\n          }}\n        />\n      )\n    }}\n  </Consumer>\n)\n\n/**\n * Logic-less view\n */\n\nexport const View = ({\n  frontmatter,\n  htmlAst,\n  relatedPages,\n  topPages,\n  pageCount,\n  labels,\n  path,\n  sheet\n}: ViewProps) => {\n  const title = sheet.title || ''\n\n  return (\n    <React.Fragment>\n      <Helmet>\n        <title>{`${title} ${labels.sheetSuffix}`}</title>\n      </Helmet>\n\n      <CommonHead />\n\n      <TopNav back title={title} path={path} />\n\n      <div className='body-area'>\n        <MainHeading title={title} suffix={labels.sheetSuffix} />\n\n        {/* Introduction */}\n        {frontmatter && frontmatter.intro ? (\n          <IntroContent className='MarkdownBody'>\n            <MiniMarkdown source={frontmatter.intro} />\n          </IntroContent>\n        ) : null}\n\n        {/* Post content */}\n        <PostContent className='post-content MarkdownBody' {...{ htmlAst }} />\n      </div>\n\n      <PreFooter />\n      <CommentsArea />\n      <SearchFooter />\n      <RelatedPostsArea\n        {...{\n          pageCount,\n          relatedPages,\n          topPages,\n          category: frontmatter.category\n        }}\n      />\n    </React.Fragment>\n  )\n}\n\nexport default SheetTemplateView\n","import { graphql } from 'gatsby'\nimport React from 'react'\n\nimport { CONTENT } from '../../../config'\nimport SheetTemplateView from '../components/SheetTemplateView'\nimport Layout from '../containers/Layout'\nimport { Provider } from '../contexts/SiteContext'\nimport { toSiteLinks } from '../lib/site_page'\nimport {\n  AllSitePage,\n  MarkdownNode,\n  NodeContext,\n  Sheet,\n  SiteLink\n} from '../types'\n\n/**\n * Props\n */\n\nexport interface Data {\n  relatedPages: AllSitePage\n  topPages: AllSitePage\n  allPages: { totalCount: number }\n  markdownRemark: MarkdownNode\n}\n\nexport interface Props {\n  pageContext: NodeContext\n  data: Data\n}\n\n/**\n * Sheet template\n */\n\nexport const SheetTemplate = (props: Props) => {\n  const data = props.data\n  const nodePath = props.pageContext.nodePath\n\n  const relatedPages: SiteLink[] = toSiteLinks(data.relatedPages)\n  const topPages: SiteLink[] = toSiteLinks(data.topPages)\n\n  const frontmatter = data.markdownRemark.frontmatter\n\n  const sheet: Sheet = {\n    path: nodePath,\n    title: frontmatter.title,\n    htmlAst: data.markdownRemark.htmlAst\n  }\n\n  return (\n    <Layout>\n      <Provider value={{ CONTENT, sheet }}>\n        <SheetTemplateView\n          frontmatter={data.markdownRemark.frontmatter}\n          htmlAst={data.markdownRemark.htmlAst}\n          path={nodePath}\n          relatedPages={relatedPages}\n          topPages={topPages}\n          pageCount={data.allPages.totalCount}\n        />\n      </Provider>\n    </Layout>\n  )\n}\n\nexport default SheetTemplate\n\n/*\n * Query\n */\n\nexport const query = graphql`\n  query SheetByNodeId($node_id: String!, $category: String!, $path: String!) {\n    markdownRemark(id: { eq: $node_id }) {\n      htmlAst\n      frontmatter {\n        title\n        category\n        intro\n      }\n    }\n\n    # Pages related to the current one\n    # (ie, same category)\n    relatedPages: allSitePage(\n      filter: {\n        context: {\n          nodePath: { ne: $path }\n          category: { eq: $category }\n          nodeType: { eq: \"sheet\" }\n        }\n      }\n      limit: 6\n      sort: { fields: [context___weight], order: ASC }\n    ) {\n      edges {\n        node {\n          id\n          context {\n            nodePath\n            category\n            title\n          }\n        }\n      }\n    }\n\n    # The top pages\n    topPages: allSitePage(\n      filter: {\n        context: { nodePath: { ne: $path }, nodeType: { eq: \"sheet\" } }\n      }\n      limit: 6\n      sort: { fields: [context___weight], order: ASC }\n    ) {\n      edges {\n        node {\n          id\n          context {\n            nodePath\n            category\n            title\n          }\n        }\n      }\n    }\n\n    # Number of total cheatsheets\n    allPages: allSitePage {\n      totalCount\n    }\n  }\n`\n","import React from 'react'\nimport { SiteSearchIndex } from '../types'\n\n/*\n * Le context\n */\n\nexport interface ConsumerRenderProps {\n  siteSearchIndex?: SiteSearchIndex\n  CONTENT?: any // TODO\n  sheet?: any // TODO\n}\n\nexport interface ConsumerProps {\n  children: (rprops: ConsumerRenderProps) => any\n}\n\nexport type ConsumerType = (props: ConsumerProps) => JSX.Element\n\nexport const ctx = React.createContext({})\nexport const Provider = ctx.Provider\nexport const Consumer = ctx.Consumer as ConsumerType\n","/**\n * Raw content\n */\n\nexport const CONTENT = {\n  home: {\n    title: 'Devhints.io — TL;DR for developer documentation',\n    description: 'A ridiculous collection of web development cheatsheets',\n    recentlyUpdated: 'Recently updated',\n    updatedLabel: 'Updated'\n  },\n\n  // Home page banner (SiteHeader)\n  siteHeader: {\n    title: \"Rico's cheatsheets\",\n    tagline: `Hey! I'm <a href='https://ricostacruz.com'>@rstacruz</a> and this is a modest collection of cheatsheets I've written.`\n  },\n\n  // Top navigation (TopNav)\n  topNav: {\n    title: 'Devhints.io',\n    edit: 'Edit',\n    editOnGithub: 'Edit this page on GitHub'\n  },\n\n  sheet: {\n    suffix: 'cheatsheet'\n  },\n\n  // Callout at the bottom of the sheets\n  relatedPostsCallout: {\n    description: 'Over SIZE curated cheatsheets, by developers for developers.',\n    link: 'Devhints home'\n  },\n\n  // Search form in the home page\n  searchForm: {\n    defaultPlaceholder: 'Search SIZE+ cheatsheets',\n    homePlaceholder: 'Search...',\n    prefix: 'devhints.io'\n  },\n\n  // Comments area in the sheets\n  commentsArea: {\n    suffix: 'for this cheatsheet.',\n    link: 'Write yours!'\n  },\n\n  // 404 page\n  notFound: {\n    title: 'Not found',\n    description:\n      \"Sorry, we don't have a cheatsheet for this yet. Try searching!\",\n    home: 'Back to home'\n  }\n}\n\n/**\n * Disqus integration (TODO)\n * @name DISQUS\n */\n\nexport const DISQUS = {\n  enabled: true,\n  host: 'devhints.disqus.com'\n}\n\nconst siteMetadata = {\n  content: CONTENT,\n  github: {\n    repo: 'https://github.com/rstacruz/cheatsheets',\n    branch: 'master'\n  },\n  assets: {\n    preview_host: 'https://assets.devhints.io/previews'\n  },\n  codefund: {\n    enabled: true,\n    token: 'c2c8bc62-c275-4c7a-a304-74335c5a1cd0'\n  },\n  googleAnalytics: {\n    hostname: 'devhints.io',\n    id: 'UA-106902774-1'\n  },\n  disqus: {\n    enabled: true,\n    host: 'devhints.disqus.com'\n  }\n}\n\nexport default siteMetadata\n","import React from 'react'\nimport Helmet from 'react-helmet'\n\n/**\n * Props\n */\n\nexport interface Props {\n  children: React.ReactNode\n}\n\n/**\n * Base layout\n */\n\nfunction Layout({ children }: Props) {\n  return (\n    <React.Fragment>\n      <Helmet\n        title='Devhints.io'\n        meta={[\n          { name: 'description', content: 'Sample' },\n          { name: 'keywords', content: 'sample, something' }\n        ]}\n      />\n      {children}\n    </React.Fragment>\n  )\n}\n\nexport default Layout\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport './CommonHead.css'\n\n/**\n * Things that should be in all pages\n */\n\nexport const CommonHead = () => (\n  <React.Fragment>\n    <Helmet>\n      <link\n        rel='stylesheet'\n        href='https://fonts.googleapis.com/css?family=Cousine'\n      />\n    </Helmet>\n  </React.Fragment>\n)\n\nexport default CommonHead\n","import groupBy from 'group-by'\nimport { AllSitePage, GroupedSiteLinks, PageEdge, SiteLink } from '../types'\n\n/**\n * Converts AllSitePage to SiteLinks\n */\n\nexport function toSiteLinks(pages?: AllSitePage): SiteLink[] {\n  if (!pages || !pages.edges) return []\n\n  return pages.edges.map(toSiteLink)\n}\n\n/**\n * Convert an edge to a site link\n */\n\nexport function toSiteLink(edge: PageEdge): SiteLink {\n  return {\n    path: edge.node.context.nodePath,\n    title: edge.node.context.title\n  }\n}\n\n/**\n * Groups by category, returns sitelinks\n */\n\nexport function groupByCategory(allPages: AllSitePage): GroupedSiteLinks {\n  const groups: { [key: string]: PageEdge[] } = groupBy(\n    allPages.edges,\n    (edge: PageEdge) => edge.node.context.category\n  )\n\n  return Object.keys(groups).reduce((result, group: string) => {\n    const edges = groups[group]\n    return { ...result, [group]: edges.map(toSiteLink) }\n  }, {})\n}\n","import debugjs from 'debug'\nimport React from 'react'\nimport isotopify from './isotopify'\nimport { loadPrism, PrismType } from './prism'\nimport transform from './transform'\n\nconst debug = debugjs('app:PostContent')\n\n// @ts-ignore React.memo isn't typed? Why?\nconst memo = React.memo\n\nexport interface Props {\n  // Markdown HAST syntax tree\n  htmlAst: any\n\n  // Class name of the <div>\n  className: string\n}\n\n/**\n * Post content with transform magic.\n */\n\nconst PostContent = memo((props: Props) => {\n  const { htmlAst, className } = props\n  const content = transform(htmlAst)\n\n  return (\n    <div className={className} role='main' ref={doPostTransform}>\n      {content}\n    </div>\n  )\n})\n\nexport default PostContent\n\n/**\n * Asynchronously performs transformations needed after rendering.\n * @returns a Promise that resolves to nothing.\n */\n\nfunction doPostTransform(element: HTMLElement | null | void): Promise<void> {\n  const log = debug.bind(null, 'doPostTransform()')\n  log('working on', element)\n\n  return Promise.resolve()\n    .then(() => {\n      if (!element) {\n        // @ts-ignore - Prism polutes the global namespaec\n        return global.Prism\n      }\n      log('Invoking Isotope')\n      isotopify(element)\n\n      return loadPrism(element)\n    })\n    .then((Prism: PrismType) => {\n      if (element) {\n        log('Highlighting via Prism')\n        Prism.highlightAllUnder(element)\n      }\n    })\n    .catch((error: Error) => {\n      log('Prism/isotope error:', error)\n    })\n}\n","/**\n * Lays out each h3-section using Isotope.\n */\n\nexport default function isotopify(el: HTMLElement | null | void) {\n  if (!el || !el.children) return\n\n  // If we're running on the server, don't bother with this\n  if (typeof window === 'undefined') return\n\n  // There's a wrapping <div> from renderAst, meh\n  const div = el.children[0]\n  if (!div) return\n\n  // isotope()'ify all lists\n  const lists = div.querySelectorAll<HTMLElement>('.h3-section-list')\n  Array.from(lists).forEach(isotopifyItem)\n}\n\n/**\n * Applies an Isotope layout to the given HTML element `el`'s H3 sections.\n */\n\nfunction isotopifyItem(el: HTMLElement) {\n  // Load this lazily, so that it doesn't happen on the server\n  const Isotope = require('isotope-layout/dist/isotope.pkgd.js')\n\n  const iso = new Isotope(el, {\n    itemSelector: '.h3-section',\n    transitionDuration: 0\n  })\n\n  const images = el.querySelectorAll('img')\n\n  Array.from(images).forEach(image => {\n    image.addEventListener('load', () => {\n      iso.layout()\n    })\n  })\n\n  // Insurance against weirdness on pages like devhints.io/vim, where the\n  // critical path CSS may look different from the final CSS (because of the\n  // tables).\n  window.addEventListener('load', () => {\n    iso.layout()\n  })\n}\n","import debugjs from 'debug'\nimport loadjs from 'loadjs'\n\nconst debug = debugjs('app:Prism')\n\n/*\n * Type for window.Prism.\n * Consider later using @types/prismjs or something\n */\n\nexport interface PrismType {\n  highlightAllUnder: (el: HTMLElement) => void\n}\n\n/**\n * Version of Prism.js to load from CDN\n */\n\nexport const PRISM_VERSION = '1.14.0'\n\n/**\n * Map of language codes to prism plugin names.\n * See: https://cdn.jsdelivr.net/npm/prismjs/components/\n */\n\nexport const LANGUAGE_ALIASES: { [id: string]: string } = {\n  coffee: 'coffeescript',\n  dockerfile: 'docker',\n  dosini: 'ini',\n  jade: 'pug',\n  js: 'javascript',\n  make: 'makefile',\n  md: 'markdown',\n  rb: 'ruby',\n  sh: 'bash',\n  tsx: 'jsx',\n  vimscript: 'vim',\n  yml: 'yaml',\n  zsh: 'bash'\n}\n\n/**\n * These languages don't exist (or are built in), don't load them\n */\n\nexport const LANGUAGE_IGNORE: { [key: string]: boolean } = {\n  nohighlight: true,\n  html: true\n}\n\n/**\n * Asynchrolously loads Prism, the syntax highlighter.\n * If `el` is given, it tries to infer all the languages used in code blocks\n * inside that element.\n *\n * @returns a Promise that resolves into the `Prism` instance.\n *\n * @example\n *     const Prism = await loadPrism()\n */\n\nexport function loadPrism(el?: HTMLElement): Promise<PrismType> {\n  return Promise.resolve()\n    .then(() => {\n      const urls = getPrismURLs(el)\n      debug('loadPrism() → Loading URLs', urls)\n      return loadScripts(urls)\n    })\n    .then(() => {\n      // @ts-ignore global.Prism\n      return global.Prism as PrismType\n    })\n}\n\n/**\n * Returns JS and CSS URLs to load.\n * If an `element` is given, it tries to detect what languages are in use in\n * that element.\n */\n\nexport function getPrismURLs(el?: HTMLElement): string[] {\n  const languages = getLanguagesInElement(el)\n  const languageURLs = languages.map((lang: string) => getLanguageURL(lang))\n\n  return [\n    // @ts-ignore global.Prism\n    ...(global.Prism ? [] : [getPrismURL()]),\n    getPrismURL('plugins/line-highlight/prism-line-highlight.min.js'),\n    getPrismURL('plugins/line-highlight/prism-line-highlight.min.css'),\n    ...languageURLs\n  ]\n}\n\n/**\n * Loads multiple scripts asynchronously.\n */\n\nexport function loadScripts(urls: string[]): Promise<void> {\n  return Promise.all(urls.map((url: string) => loadScript(url))).then(noop)\n}\n\n/**\n * Loads a script asynchronously.\n */\n\nexport function loadScript(url: string): Promise<void> {\n  return new Promise(resolve => {\n    loadjs(url, {\n      // @ts-ignore - because @types/loadjs is whack\n      before: (path: string, el: HTMLElement) => {\n        // Prism wants this so that it doesn't automatically do magic.\n        el.setAttribute('data-manual', '')\n\n        // Don't halt HTML processing!\n        el.setAttribute('defer', '')\n        el.removeAttribute('async')\n      },\n      success: () => {\n        resolve()\n      },\n      error: (err: Error) => {\n        // Probably a 404 or network error or something, no need to panic. It\n        // won't cause any trouble, so fail silently.\n        debug('loadScript() error:', err)\n        resolve()\n      }\n    })\n  })\n}\n\n/**\n * Returns the CDN URL for a given language plugin.\n *\n * @example\n *     getLanguageURL('javascript')\n *     // => 'https://cdn.jsdelivr.net/npm/prismjs@1.14.0/components/prism-javascript.min.js'\n */\n\nexport function getLanguageURL(lang: string): string {\n  return getPrismURL(`components/prism-${lang}.min.js`)\n}\n\n/**\n * Returns the CDN URL for a given prism `file`.\n *\n * @example\n *     getPrismURL()\n *     // => 'https://cdn.jsdelivr.net/npm/prismjs@1.14.0/prism.min.js'\n *\n *     getPrismURL('package.json')\n *     // => 'https://cdn.jsdelivr.net/npm/prismjs@1.14.0/package.json'\n */\n\nexport function getPrismURL(file: string = 'prism.min.js'): string {\n  return `https://cdn.jsdelivr.net/npm/prismjs@${PRISM_VERSION}/${file}`\n}\n\n/**\n * Returns languages used in an element.\n * @returns an list of languages as an array of strings.\n *\n * @example\n * Assuming the body has `<pre class='language-jsx'>` (and alike for\n * `javascript` and `ruby`), `getLanguagesInElement()` will return those\n * languages.\n *\n *     getLanguagesInElement(document.body)\n *     // => ['jsx', 'javascript', 'ruby']\n */\n\nexport function getLanguagesInElement(el?: HTMLElement): string[] {\n  // Just being defensive\n  if (!el) {\n    return []\n  }\n\n  const pres = el.querySelectorAll<HTMLElement>('[class*=\"language-\"]')\n\n  // Get classnames\n  let classNames\n  classNames = Array.from(pres).map((pre: HTMLElement) =>\n    Array.from(pre.className.split(' ')).find(\n      (cn: string) => !!cn.match(/^language-/)\n    )\n  )\n\n  // Ensure there aren't any null's\n  classNames = classNames.filter(Boolean) as string[]\n\n  const result = classNames\n    // Only work on the language-* classes\n    .map((cn: string) => cn.replace(/^language-/, ''))\n\n    // Resolve to its canonical version (rb => ruby)\n    .map((cn: string) => LANGUAGE_ALIASES[cn] || cn)\n\n    // Sort and dedeplicate\n    .sort()\n    .filter((value, index, self) => self.indexOf(value) === index)\n\n    // Ignore certain ones\n    .filter((cn: string) => !LANGUAGE_IGNORE[cn])\n\n  return result\n}\n\n/**\n * Function to neutralize a promise's return value.\n *\n * @example\n *     Promise.all(...).then(noop)\n */\n\nfunction noop() {\n  // Return undefined\n}\n","// @flow\n\n/*::\n  export type HastType = 'comment' | 'element' | 'text'\n\n  export type HastNode = {\n    type: HastType,\n    tagName?: string,\n    value?: string,\n    properties: Object,\n    children?: HastNodeList\n  }\n\n  export type HastNodeList = Array<HastNode>\n*/\n\n// htmlAst = {\n//   type: 'element'\n//   tagName: 'h2'\n//   properties: {}\n//   children: []\n// }\n// { type: 'comment', value: 'sup' }\n// { type: 'text', value: 'hello' }\n\n/**\n * Returns the class name of a HAST node.\n */\n\nexport function getClassName(node /*: HastNode */) {\n  return node && (node.properties || {}).className\n}\n\n/**\n * Updates the last child of a HAST node.\n */\n\nexport function updateLastChild(\n  node /*: HastNode */,\n  fn /*: HastNode => HastNode */\n) {\n  const children /*: HastNodeList */ = node.children || []\n  return { ...node, children: updateLast(children, fn) }\n}\n\n/**\n * Updates the last item on a list with a given `fn` function.\n */\n\nexport function updateLast(\n  list /*: HastNodeList */,\n  fn /*: HastNode => HastNode */\n) {\n  if (list.length === 0) {\n    return []\n  }\n  const head /*: HastNodeList */ = list.slice(0, list.length - 1)\n  const item /*: HastNode */ = list[list.length - 1]\n  return [...head, fn(item)]\n}\n\n/**\n * Updates the `children` of a HAST node.\n */\n\nexport function updateChildren(\n  node /*: HastNode */,\n  fn /*: HastNodeList => HastNodeList */\n) {\n  const children = fn(node.children || [])\n  return { ...node, children }\n}\n\n/**\n * Adds a child to a HAST node.\n */\n\nexport function appendChild(node /*: HastNode */, item /*: HastNode */) {\n  const children = [...(node.children || []), item]\n  return { ...node, children }\n}\n","import {\n  getClassName,\n  updateLastChild,\n  updateLast,\n  updateChildren,\n  appendChild\n} from './lib/helpers/hast'\n\n/**\n * Wrap everything.\n */\n\nexport default function(root) {\n  root = wrapH2(root)\n\n  root = updateChildren(root, children =>\n    (children || []).map(section =>\n      updateLastChild(section, body => wrapH3(body))\n    )\n  )\n\n  return root\n}\n\n/**\n * Wrap H2 headings.\n */\n\nexport function wrapH2(root) {\n  return wrapify(root, {\n    tagName: 'h2',\n    sectionClass: ['h2-section'],\n    bodyClass: ['body', 'h3-section-list']\n  })\n}\n\n/**\n * Wraps H3 headings.\n */\n\nexport function wrapH3(root) {\n  return wrapify(root, {\n    tagName: 'h3',\n    sectionClass: ['h3-section'],\n    bodyClass: ['body']\n  })\n}\n\n/**\n * Wraps headings.\n */\n\nexport function wrapify(\n  root,\n  { tagName = 'h2', sectionClass = ['h2-section'], bodyClass = ['body'] } = {}\n) {\n  const children = root.children.reduce((list, node) => {\n    if (node.tagName === tagName) {\n      // H2 heading - create a new `.h2-section`.\n      const extraClass = getClassName(node)\n      const body = wrapper([...bodyClass, extraClass], [])\n      return [...list, wrapper([...sectionClass, extraClass], [node, body])]\n    } else if (list.length) {\n      // Not prelude\n      return updateLast(list, last => ({\n        ...last,\n        children: updateLast(last.children, body => appendChild(body, node))\n      }))\n    } else {\n      // Prelude\n      const body = wrapper(bodyClass, [node])\n      return [wrapper(sectionClass, [body])]\n    }\n  }, [])\n\n  return { ...root, children }\n}\n\n/**\n * Creates a wrapper element.\n */\n\nfunction wrapper(className /*: Array<string> */, children /*: HastNodeList */) {\n  return {\n    type: 'element',\n    tagName: 'div',\n    properties: { className },\n    children\n  }\n}\n","import React from 'react'\n// @ts-ignore TODO types for rehype-decorate\nimport decorate from 'rehype-decorate'\n// @ts-ignore TODO types for rehype-react\nimport RehypeReact from 'rehype-react'\n// @ts-ignore TODO types for rehype-table-separators\nimport separatify from 'rehype-table-separators'\n// @ts-ignore TODO types for rehype-wrapify\nimport wrapify from '../../../../packages/rehype-wrapify'\nimport { HastNode } from '../../types'\n\n/**\n * Converts a HAST node (generated from Markdown) into a React element.\n * Does the appropriate transformations.\n *\n * @returns a React Element.\n */\n\nexport default function transform(htmlAst: HastNode): React.ReactNode {\n  // Perform transformations\n  htmlAst = separatify(wrapify(decorate(htmlAst)))\n\n  // Convert to React\n  const element = renderAst(htmlAst)\n  return element\n}\n\n/**\n * Renders HAST into React using `rehype-react`.\n */\n\nexport const renderAst = new RehypeReact({\n  createElement: React.createElement\n}).Compiler\n"],"sourceRoot":""}